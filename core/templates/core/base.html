{% load static %}
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="DjanPay - Banque privée premium. Gestion patrimoniale haut de gamme.">
    <meta name="keywords" content="banque privée, gestion patrimoniale, finance, investissement">
    <meta name="author" content="DjanPay">

    <!-- Open Graph -->
    <meta property="og:title" content="DjanPay - Banque Privée Premium">
    <meta property="og:description" content="Votre partenaire de confiance pour une gestion patrimoniale d'excellence">
    <meta property="og:type" content="website">

    <title>{% block title %}DjanPay - Banque Privée Premium{% endblock %}</title>

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="{% static 'core/favicon.png' %}">

    <!-- CSS Premium -->
    <link rel="stylesheet" href="{% static 'core/css/style.css' %}">

    <!-- Font Awesome pour les icônes -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    {% block extra_css %}{% endblock %}
</head>
<body>
    <!-- ============================================
         HEADER / NAVIGATION PREMIUM
         ============================================ -->
    <header class="header" id="header">
        <div class="container">
            <nav class="navbar">
                <!-- Logo -->
                <a href="{% url 'home' %}" class="logo">
                    Djan<span class="logo-accent">Pay</span>
                </a>

                <!-- Navigation Links -->
                <div class="nav-links" id="navLinks">
                    {% if user.is_authenticated %}
                        <a href="{% url 'home' %}" class="nav-link">
                            <i class="fas fa-home"></i> Accueil
                        </a>

                        {% if user.is_staff or user.is_superuser %}
                            <a href="/admin/" class="nav-link">
                                <i class="fas fa-shield-alt"></i> Administration
                            </a>
                        {% endif %}

                        <a href="#" class="nav-link">
                            <i class="fas fa-user-circle"></i> Mon Profil
                        </a>

                        <a href="/logout/" class="btn btn-secondary btn-sm">
                            <i class="fas fa-sign-out-alt"></i> Déconnexion
                        </a>
                    {% else %}
                        <a href="#" class="nav-link">À Propos</a>
                        <a href="#" class="nav-link">Services</a>
                        <a href="#" class="nav-link">Contact</a>
                        <a href="/login/" class="btn btn-primary btn-sm">
                            <i class="fas fa-sign-in-alt"></i> Connexion
                        </a>
                    {% endif %}
                </div>

                <!-- Burger Menu (Mobile) -->
                <div class="burger-menu" id="burgerMenu">
                    <span class="burger-line"></span>
                    <span class="burger-line"></span>
                    <span class="burger-line"></span>
                </div>
            </nav>
        </div>
    </header>

    <!-- ============================================
         MESSAGES DJANGO (Alerts)
         ============================================ -->
    {% if messages %}
        <div class="container" style="margin-top: 100px;">
            {% for message in messages %}
                <div class="alert alert-{{ message.tags }} fade-in">
                    <strong>
                        {% if message.tags == 'success' %}
                            <i class="fas fa-check-circle"></i> Succès !
                        {% elif message.tags == 'error' %}
                            <i class="fas fa-exclamation-circle"></i> Erreur !
                        {% elif message.tags == 'warning' %}
                            <i class="fas fa-exclamation-triangle"></i> Attention !
                        {% else %}
                            <i class="fas fa-info-circle"></i> Information
                        {% endif %}
                    </strong>
                    {{ message }}
                </div>
            {% endfor %}
        </div>
    {% endif %}

    <!-- ============================================
         CONTENU PRINCIPAL
         ============================================ -->
    <main {% if not user.is_authenticated %}style="margin-top: 80px;"{% endif %}>
        {% block content %}
        <!-- Le contenu des pages filles sera inséré ici -->
        {% endblock %}
    </main>

    <!-- ============================================
         FOOTER PREMIUM
         ============================================ -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <!-- Section À propos -->
                <div class="footer-section">
                    <h4>DjanPay</h4>
                    <p>
                        Banque privée premium offrant des services de gestion patrimoniale
                        d'excellence depuis 2025.
                    </p>
                    <p style="margin-top: 16px;">
                        <i class="fas fa-shield-check"></i> Sécurité & Confidentialité garanties
                    </p>
                </div>

                <!-- Section Services -->
                <div class="footer-section">
                    <h4>Nos Services</h4>
                    <p><a href="#"><i class="fas fa-chevron-right"></i> Gestion de patrimoine</a></p>
                    <p><a href="#"><i class="fas fa-chevron-right"></i> Investissements</a></p>
                    <p><a href="#"><i class="fas fa-chevron-right"></i> Conseil fiscal</a></p>
                    <p><a href="#"><i class="fas fa-chevron-right"></i> Succession</a></p>
                </div>

                <!-- Section Contact -->
                <div class="footer-section">
                    <h4>Contact</h4>
                    <p><i class="fas fa-phone"></i> +33 1 23 45 67 89</p>
                    <p><i class="fas fa-envelope"></i> contact@djanpay.fr</p>
                    <p><i class="fas fa-map-marker-alt"></i> Paris, France</p>
                    <p style="margin-top: 16px;">
                        <a href="#" style="margin-right: 12px;"><i class="fab fa-linkedin fa-lg"></i></a>
                        <a href="#" style="margin-right: 12px;"><i class="fab fa-twitter fa-lg"></i></a>
                        <a href="#"><i class="fab fa-facebook fa-lg"></i></a>
                    </p>
                </div>

                <!-- Section Légal -->
                <div class="footer-section">
                    <h4>Informations Légales</h4>
                    <p><a href="{% url 'legal' %}">Mentions légales</a></p>
                    <p><a href="{% url 'privacy' %}">Politique de confidentialité</a></p>
                    <p><a href="{% url 'privacy' %}">RGPD</a></p>
                    <p><a href="{% url 'legal' %}">Conditions générales</a></p>
                </div>
            </div>

            <div class="footer-bottom">
                <p>&copy; 2025 DjanPay - Banque Privée Premium. Tous droits réservés.</p>
                <p style="margin-top: 8px; font-size: 13px;">
                    Développé avec <span style="color: #C9A55A;">Django</span> & SQLite
                </p>
            </div>
        </div>
    </footer>

    <!-- ============================================
         JAVASCRIPT
         ============================================ -->
    <script>
        // Burger Menu Toggle (Mobile)
        const burgerMenu = document.getElementById('burgerMenu');
        const navLinks = document.getElementById('navLinks');

        if (burgerMenu) {
            burgerMenu.addEventListener('click', () => {
                navLinks.classList.toggle('active');
                burgerMenu.classList.toggle('active');
            });
        }

        // Header Scroll Effect
        const header = document.getElementById('header');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });

        // Smooth Scroll pour les liens ancres
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                const href = this.getAttribute('href');
                if (href !== '#') {
                    e.preventDefault();
                    const target = document.querySelector(href);
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                }
            });
        });

        // Auto-hide alerts après 5 secondes
        document.querySelectorAll('.alert').forEach(alert => {
            setTimeout(() => {
                alert.style.opacity = '0';
                setTimeout(() => alert.remove(), 300);
            }, 5000);
        });

        // Intersection Observer pour les animations au scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('fade-in');
                }
            });
        }, observerOptions);

        // Observer tous les éléments avec la classe "animate-on-scroll"
        document.querySelectorAll('.animate-on-scroll').forEach(el => {
            observer.observe(el);
        });
    </script>

    {% block extra_js %}{% endblock %}
</body>
</html>
